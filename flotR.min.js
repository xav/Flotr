/*
 Javascript plotting library for Raphael v. 0.1.

 Released under the MIT license by Xavier Basty / digitalanimal.se, March 2012.

 Based on the flot plotting library (http://code.google.com/p/flot/)
 Color management based on jquery.colorhelpers by Ole Laursen

*/
(function(l,K){function u(a,b,d,c){return this instanceof u?(this.r=a||0,this.g=b||0,this.b=d||0,this.a=null!=c?c:1,this.normalize()):new u(a,b,d,c)}function D(a,b){return b*Math.floor(a/b)}function L(a,b,d,c,e,f){var h=+(c-d>Math.PI),i=a+f*Math.cos(d),j=b+f*Math.sin(d),g=a+f*Math.cos(c),k=b+f*Math.sin(c),r=a+e*Math.cos(c),c=b+e*Math.sin(c),a=a+e*Math.cos(d),b=b+e*Math.sin(d),e=["M",r," ",c,"A",e," ",e," ",0," ",h," ",0," ",a," ",b];null!=f&&e.push("L"," ",i," ",j,"A"," ",f," ",f," ",0," ",h," ",
1," ",g," ",k,"z");return e.join("")}function G(a,b,d,c){b--;a[b]||(a[b]={n:b+1,direction:c,options:l.extend(!0,{},d)});return a[b]}function B(a,b,d){var c=this.data("plotr"),e=this.data("item"),f=c.placeholder.offset(),h,i,j,g,k;h=null;if(c){if(e){h=c.series[e.seriesIndex];i=h.datapoints;j=i.pointsize;k=h.datapoints.points.slice(j*e.dataIndex,j*(e.dataIndex+1));for(g=e.dataIndex*i.pointsize,j=g+i.pointsize;g<j;g++)k.push(i.points[g]);h={seriesIndex:e.seriesIndex,series:h,dataIndex:e.dataIndex,datapoint:k,
pageX:b,pageY:d}}b=b-f.left-c.plotOffset.left;d=d-f.top-c.plotOffset.top;b=c.canvasToAxisCoords({left:b,top:d});c.placeholder.trigger(a,[b,h])}}function M(){var a=this.data("set"),b,d,c,e;if(!a.hover){a.hover=!0;for(d=0,c=a.length;d<c;d++)e=a[d],(b=e.attrs.fill)&&"none"!==b&&e.attr({fill:u.parse(b).scale("a",0.5).toString()})}}function N(){var a=this.data("highlight"),b=this.data("set"),d,c,e;if(!a&&b.hover){b.hover=!1;for(d=0,c=b.length;d<c;d++)e=b[d],(a=e.attrs.fill)&&"none"!==a&&e.attr({fill:u.parse(a).scale("a",
2).toString()})}}function O(){var a=this.data("set");!this.data("glow")&&this.data("glow",a.glow({color:a.attrs.stroke,opacity:0.7}))}function P(){var a=this.data("highlight"),b=this.data("glow");a||(b&&b.remove(),this.removeData("glow"))}function E(a){var a=a.xAxes.concat(a.yAxes),b=[],d,c;for(d=0,c=a.length;d<c;d++)a[d]&&b.push(a[d]);return b}function F(a,b,d){var c,e;for(c=0,e=b.length;c<e;++c)b[c].apply(a,d)}function Q(a,b){var d=a[b+"axis"];"object"===typeof d&&(d=d.n);"number"!==typeof d&&(d=
1);return d}function V(a){function b(a,c,b){c<a.datamin&&c!=-h&&(a.datamin=c);b>a.datamax&&b!=h&&(a.datamax=b)}var d=a.series,c=a.hooks,e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.MAX_VALUE,i,j,g,k,r=d.length,q,t,y,w,z,H,o,p,n,m,s;i=E(a);for(g=0,k=i.length;g<k;g++)j=i[g],j.datamin=e,j.datamax=f,j.used=!1;for(g=0;g<r;g++)j=d[g],j.datapoints={points:[]},F(a,c.processRawData,[j,j.data,j.datapoints]);for(g=0;g<r;g++){j=d[g];y=j.data;w=j.datapoints.format;if(!w){w=[];w.push({x:!0,number:!0,
required:!0});w.push({y:!0,number:!0,required:!0});if(j.bars.show||j.lines.show&&j.lines.fill)w.push({y:!0,number:!0,required:!1,defaultValue:0}),j.bars.horizontal&&(delete w[w.length-1].y,w[w.length-1].x=!0);j.datapoints.format=w}if(null==j.datapoints.pointsize){j.datapoints.pointsize=w.length;p=j.datapoints.pointsize;o=j.datapoints.points;z=j.lines.show&&j.lines.steps;j.xaxis.used=j.yaxis.used=!0;for(q=k=0;q<y.length;q++,k+=p){s=y[q];H=null==s;if(!H)for(t=0;t<p;t++){n=s[t];if(m=w[t])m.number&&null!=
n&&(n=+n,isNaN(n)?n=null:Infinity==n?n=h:-Infinity==n&&(n=-h)),null==n&&(m.required&&(H=!0),null!=m.defaultValue&&(n=m.defaultValue));o[k+t]=n}if(H)for(t=0;t<p;t++)n=o[k+t],null!=n&&(m=w[t],m.x&&b(j.xaxis,n,n),m.y&&b(j.yaxis,n,n)),o[k+t]=null;else if(z&&0<k&&null!=o[k-p]&&o[k-p]!=o[k]&&o[k-p+1]!=o[k+1]){for(t=0;t<p;++t)o[k+p+t]=o[k+t];o[k+1]=o[k-p+1];k+=p}}}}for(g=0;g<r;g++)j=d[g],F(a,c.processDatapoints,[j,j.datapoints]);for(g=0;g<r;++g){j=d[g];o=j.datapoints.points;p=j.datapoints.pointsize;a=c=
e;q=y=f;for(k=0;k<o.length;k+=p)if(null!=o[k])for(t=0;t<p;++t)if(n=o[k+t],(m=w[t])&&!(n==h||n==-h))m.x&&(n<a&&(a=n),n>q&&(q=n)),m.y&&(n<c&&(c=n),n>y&&(y=n));j.bars.show&&(k="left"==j.bars.align?0:-j.bars.barWidth/2,j.bars.horizontal?(c+=k,y+=k+j.bars.barWidth):(a+=k,q+=k+j.bars.barWidth));b(j.xaxis,a,q);b(j.yaxis,c,y)}for(g=0,k=i.length;g>k;g++)j=i[g],j.datamin==e&&(j.datamin=null),j.datamax==f&&(j.datamax=null)}function W(a){var b=a.options,d=+(null!=b.min?b.min:a.datamin),c=+(null!=b.max?b.max:
a.datamax),e=c-d,f;if(0==e){if(e=0==c?1:0.01,null==b.min&&(d-=e),null==b.max||null!=b.min)c+=e}else f=b.autoscaleMargin,null!=f&&(null==b.min&&(d-=e*f,0>d&&null!=a.datamin&&0<=a.datamin&&(d=0)),null==b.max&&(c+=e*f,0<c&&null!=a.datamax&&0>=a.datamax&&(c=0)));a.min=d;a.max=c}function X(a,b){var d=b.options,c,e,f,h,i,j,g,k;c="number"===typeof d.ticks&&0<d.ticks?d.ticks:0.3*Math.sqrt("x"===b.direction?a.canvasWidth:a.canvasHeight);c=(b.max-b.min)/c;if("time"===d.mode){j={second:1E3,minute:6E4,hour:36E5,
day:864E5,month:2592E6,year:525949.2*6E4};i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];h=0;null!=d.minTickSize&&(h="number"===typeof d.tickSize?d.tickSize:d.minTickSize[0]*j[d.minTickSize[1]]);for(f=0,e=i.length-1;f<e&&!(c<(i[f][0]*j[i[f][1]]+
i[f+1][0]*j[i[f+1][1]])/2&&i[f][0]*j[i[f][1]]>=h);f++);e=i[f][0];h=i[f][1];"year"===h&&(f=Math.pow(10,Math.floor(Math.log(c/j.year)/Math.LN10)),i=c/j.year/f,e=(1.5>i?1:3>i?2:7.5>i?5:10)*f);b.tickSize=d.tickSize||[e,h];f=function(a){var c=[],b=a.tickSize[0],d=a.tickSize[1],e=new Date(a.min),f=b*j[d],h=0,g=Number.NaN,i,k,m;"second"===d&&e.setUTCSeconds(D(e.getUTCSeconds(),b));"minute"===d&&e.setUTCMinutes(D(e.getUTCMinutes(),b));"hour"===d&&e.setUTCHours(D(e.getUTCHours(),b));"month"===d&&e.setUTCMonth(D(e.getUTCMonth(),
b));"year"===d&&e.setUTCFullYear(D(e.getUTCFullYear(),b));e.setUTCMilliseconds(0);f>=j.minute&&e.setUTCSeconds(0);f>=j.hour&&e.setUTCMinutes(0);f>=j.day&&e.setUTCHours(0);f>=4*j.day&&e.setUTCDate(1);f>=j.year&&e.setUTCMonth(0);do i=g,g=e.getTime(),c.push(g),"month"===d?1>b?(e.setUTCDate(1),k=e.getTime(),e.setUTCMonth(e.getUTCMonth()+1),m=e.getTime(),e.setTime(g+h*j.hour+(m-k)*b),h=e.getUTCHours(),e.setUTCHours(0)):e.setUTCMonth(e.getUTCMonth()+b):"year"===d?e.setUTCFullYear(e.getUTCFullYear()+b):
e.setTime(g+f);while(g<a.max&&g!==i);return c};e=function(a,b){var c=new Date(a),e,f,g;if(null!=d.timeformat)return l.plot.formatDate(c,d.timeformat,d.monthNames);e=b.tickSize[0]*j[b.tickSize[1]];f=b.max-b.min;g=d.twelveHourClock?" %p":"";return l.plot.formatDate(c,e<j.minute?"%h:%M:%S"+g:e<j.day?f<2*j.day?"%h:%M"+g:"%b %d %h:%M"+g:e<j.month?"%b %d":e<j.year?f<j.year?"%b":"%b %y":"%y",d.monthNames)}}else{h=d.tickDecimals;g=-Math.floor(Math.log(c)/Math.LN10);null!=h&&g>h&&(g=h);f=Math.pow(10,-g);i=
c/f;if(1.5>i)e=1;else if(3>i){if(e=2,2.25<i&&(null==h||g+1<=h))e=2.5,++g}else e=7.5>i?5:10;e*=f;null!=d.minTickSize&&e<d.minTickSize&&(e=d.minTickSize);b.tickDecimals=Math.max(0,null!=h?h:g);b.tickSize=d.tickSize||e;f=function(a){var b=[],c=D(a.min,a.tickSize),e=0,d=Number.NaN,f;do f=d,d=c+e*a.tickSize,b.push(d),++e;while(d<a.max&&d!==f);return b};e=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=d.alignTicksWithAxis&&(k=("x"===b.direction?a.xAxes:a.yAxes)[d.alignTicksWithAxis-1])&&k.used&&
k!==b)f=f(b),0<f.length&&(null==d.min&&(b.min=Math.min(b.min,f[0])),null==d.max&&1<f.length&&(b.max=Math.max(b.max,f[f.length-1]))),f=function(a){var b=[],c,d,e;for(d=0,e=k.ticks.length;d<e;++d)c=(k.ticks[d].v-k.min)/(k.max-k.min),c=a.min+c*(a.max-a.min),b.push(c);return b},!b.mode&&null==d.tickDecimals&&(c=Math.max(0,-Math.floor(Math.log(c)/Math.LN10)+1),i=f(b),1<i.length&&/\..*0$/.test((i[1]-i[0]).toFixed(c))||(b.tickDecimals=c));b.tickGenerator=f;b.tickFormatter=l.isFunction(d.tickFormatter)?function(a,
b){return""+d.tickFormatter(a,b)}:e}function Y(a){var b=a.options.ticks,d=[],c,e,f,h;null==b||"number"===typeof b&&0<b?d=a.tickGenerator(a):b&&(d=l.isFunction(b)?b(a):b);a.ticks=[];for(b=0,c=d.length;b<c;b++)f=null,h=d[b],"object"===typeof h?(e=+h[0],1<h.length&&(f=h[1])):e=+h,null==f&&(f=a.tickFormatter(e,a)),isNaN(e)||a.ticks.push({v:e,label:f})}function Z(a,b){a.options.autoscaleMargin&&0<b.length&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&1<b.length&&(a.max=Math.max(a.max,
b[b.length-1].v)))}function $(a,b){var d=a.canvas,c=b.options,e=b.ticks||[],f=c.labelWidth||0,h=c.labelHeight||0,i,j,g,k,r,q,t,y,w,z={"font-family":b.font.family,"font-style":b.font.style,"font-weight":b.font.weight};for(i=0,j=e.length;i<j;i++)if(g=e[i],g.lines=[],g.width=g.height=0,g.label){k=g.label.replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(q=0,t=k.length;q<t;++q)r={text:k[q]},w=d.text(0,0,r.text).attr(z),y=w.getBBox(),w.remove(),r.width=y.width,r.height=y.height,r.height+=Math.round(0.15*
b.font.size),g.width=Math.max(r.width,g.width),g.height+=r.height,g.lines.push(r);null==c.labelWidth&&(f=Math.max(f,g.width));null==c.labelHeight&&(h=Math.max(h,g.height))}b.labelWidth=Math.ceil(f);b.labelHeight=Math.ceil(h)}function aa(a,b){var d=b.labelWidth,c=b.labelHeight,e=b.options.position,f=b.options.tickLength,h=a.options.grid.axisMargin,i=a.options.grid.labelMargin,j="x"===b.direction?a.xAxes:a.yAxes,g,k;g=l.grep(j,function(a){return a&&a.options.position===e&&a.reserveSpace});l.inArray(b,
g)===g.length-1&&(h=0);null==f&&(f=l.grep(j,function(a){return a&&a.reserveSpace}),f=(k=0===l.inArray(b,f))?"full":5);isNaN(+f)||(i+=+f);"x"===b.direction?(c+=i,"bottom"===e?(a.plotOffset.bottom+=c+h,b.box={top:a.canvasHeight-a.plotOffset.bottom,height:c}):(b.box={top:a.plotOffset.top+h,height:c},a.plotOffset.top+=c+h)):(d+=i,"left"===e?(b.box={left:a.plotOffset.left+h,width:d},a.plotOffset.left+=d+h):(a.plotOffset.right+=d+h,b.box={left:a.canvasWidth-a.plotOffset.right,width:d}));b.position=e;b.tickLength=
f;b.box.padding=i;b.innermost=k}function ba(a,b){"x"===b.direction?(b.box.left=a.plotOffset.left-b.labelWidth/2,b.box.width=a.canvasWidth-a.plotOffset.left-a.plotOffset.right+b.labelWidth):(b.box.top=a.plotOffset.top-b.labelHeight/2,b.box.height=a.canvasHeight-a.plotOffset.bottom-a.plotOffset.top+b.labelHeight)}function ca(a){var b=a.series,d=a.plotOffset,c=a.options.grid.minBorderMargin,e={x:0,y:0},f,h;if(null==c){c=0;for(f=0,h=b.length;f<h;++f)c=Math.max(c,2*(b[f].points.radius+b[f].points.lineWidth/
2))}e.x=e.y=Math.ceil(c);l.each(E(a),function(a,b){var c=b.direction;b.reserveSpace&&(e[c]=Math.ceil(Math.max(e[c],("x"===c?b.labelWidth:b.labelHeight)/2)))});d.left=Math.max(e.x,d.left);d.right=Math.max(e.x,d.right);d.top=Math.max(e.y,d.top);d.bottom=Math.max(e.y,d.bottom)}function da(a,b){function d(a){return a}var c,e,f=b.options.transform||d,h=b.options.inverseTransform;"x"===b.direction?(c=b.scale=a.plotWidth/Math.abs(f(b.max)-f(b.min)),e=Math.min(f(b.max),f(b.min))):(c=b.scale=a.plotHeight/
Math.abs(f(b.max)-f(b.min)),c=-c,e=Math.max(f(b.max),f(b.min)));b.p2c=f===d?function(a){return(a-e)*c}:function(a){return(f(a)-e)*c};b.c2p=h?function(a){return h(e+a/c)}:function(a){return e+a/c}}function ea(a){var b=a.options,d=a.series,c=a.plotOffset,e=[],f=!1,h=b.legend.labelFormatter,i,j,g,k;a.placeholder.find(".legend").remove();if(b.legend.show){for(j=0,g=d.length;j<g;j++)if(i=d[j],k=i.label)0===j%b.legend.noColumns&&(f&&e.push("</tr>"),e.push("<tr>"),f=!0),h&&(k=h(k,i)),e.push('<td class="legendColorBox"><div style="border:1px solid '+
b.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+i.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k+"</td>");f&&e.push("</tr>");0!==e.length&&(e='<table style="font-size:smaller;color:'+b.grid.color+'">'+e.join("")+"</table>",null!=b.legend.container?l(b.legend.container).html(e):(d="",f=b.legend.position,h=b.legend.margin,null==h[0]&&(h=[h,h]),"n"===f.charAt(0)?d+="top:"+(h[1]+c.top)+"px;":"s"===f.charAt(0)&&(d+="bottom:"+(h[1]+c.bottom)+
"px;"),"e"===f.charAt(1)?d+="right:"+(h[0]+c.right)+"px;":"w"===f.charAt(1)&&(d+="left:"+(h[0]+c.left)+"px;"),a=l('<div class="legend">'+e.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(a.placeholder),0!=b.legend.backgroundOpacity&&(c=b.legend.backgroundColor,null==c&&(c=(c=b.grid.backgroundColor)&&"string"===typeof c?u.parse(c):u.extract(a,"background-color"),c.a=1,c=c.toString()),e=a.children(),l('<div style="position:absolute;width:'+e.width()+"px;height:"+e.height()+"px;"+
d+"background-color:"+c+';"> </div>').prependTo(a).css("opacity",b.legend.backgroundOpacity))))}}function R(a,b){if("string"==typeof a)return a;if(!a)return b;var d,c,e,f,h=[null==a.angle?270:a.angle];for(d=0,c=a.colors.length;d<c;d++)e=a.colors[d],"string"!==typeof e&&(f=u.parse(b),null!=e.brightness&&(f=f.scale("rgb",e.brightness)),null!=e.opacity&&(f.a*=e.opacity),e=f.toString()),0!==d&&d!==c-1?h.push([100*(d/(c-1)),e].join(":")):h.push(e);return h.join("-")}function I(a,b){var d=a.fill,c;if(!d)return null;
if(a.fillColor)return R(a.fillColor,b);c=u.parse(b);c.a="number"==typeof d?d:0.4;c.normalize();return c.toString()}function S(a,b,d){var c,e,f,h,i,j,g=E(a);for(e=0,f=g.length;e<f;e++)if(c=g[e],c.direction==d&&(j=d+c.n+"axis",!b[j]&&1==c.n&&(j=d+"axis"),b[j])){h=b[j].from;i=b[j].to;break}b[j]||(c="x"===d?a.xAxes[0]:a.yAxes[0],h=b[d+"1"],i=b[d+"2"]);null!=h&&null!=i&&h>i&&(a=h,h=i,i=a);return{from:h,to:i,axis:c}}function fa(a){var b;b=R(a.options.grid.backgroundColor,"rgba(255, 255, 255, 0)");b=a.canvas.rect(a.plotOffset.left,
a.plotOffset.top,a.plotWidth,a.plotHeight).attr({fill:b,stroke:null});a.options.grid.hoverable&&b.data("plotr",a).mousemove(function(a,b,e){B.call(this,"plothover",b,e)}).click(function(a,b,e){B.call(this,"plotclick",b,e)})}function T(a){var b,d,c,e=a.options.grid.markings,f,h,i,j,g,k,r,q,t,y,w="t"+a.plotOffset.left+","+a.plotOffset.top,z;if(e){l.isFunction(e)&&(b=a.getAxes(),b.xmin=b.xaxis.min,b.xmax=b.xaxis.max,b.ymin=b.yaxis.min,b.ymax=b.yaxis.max,e=e(b));for(d=0,c=e.length;d<c;d++)b=e[d],g=S(a,
b,"x"),f=S(a,b,"y"),null==g.from&&(g.from=g.axis.min),null==g.to&&(g.to=g.axis.max),null==f.from&&(f.from=f.axis.min),null==f.to&&(f.to=f.axis.max),g.to<g.axis.min||g.from>g.axis.max||f.to<f.axis.min||f.from>f.axis.max||(g.from=Math.max(g.from,g.axis.min),g.to=Math.min(g.to,g.axis.max),f.from=Math.max(f.from,f.axis.min),f.to=Math.min(f.to,f.axis.max),g.from==g.to&&f.from==f.to||(g.from=g.axis.p2c(g.from),g.to=g.axis.p2c(g.to),f.from=f.axis.p2c(f.from),f.to=f.axis.p2c(f.to),g.from==g.to||f.from==f.to?
(g=["M",g.from,",",f.from,"L",g.to,",",f.to].join(""),a.canvas.path(g).transform(w).attr({stroke:b.color||a.options.grid.markingsColor,"stroke-width":b.lineWidth||a.options.grid.markingsLineWidth})):a.canvas.rect(g.from,f.to,g.to-g.from,f.from-f.to).transform(w).attr({fill:b.color||a.options.grid.markingsColor})))}b=E(a);c=a.options.grid.borderWidth;for(e=0,d=b.length;e<d;e++)if(f=b[e],g=f.box,k=f.tickLength,f.show&&0!=f.ticks.length){"x"==f.direction?(r=0,q="full"==k?"top"==f.position?0:a.plotHeight:
g.top-a.plotOffset.top+("top"==f.position?g.height:0)):(q=0,r="full"==k?"left"==f.position?0:a.plotWidth:g.left-a.plotOffset.left+("left"==f.position?g.width:0));z=f.options.tickColor||u.parse(f.options.color).scale("a",0.22).toString();f.innermost||(t=y=0,"x"==f.direction?t=a.plotWidth:y=a.plotHeight,r=Math.floor(r)+0.5,q=Math.floor(q)+0.5,g=["M",r,",",q,"L",r+t,",",q+y].join(""),a.canvas.path(g).transform(w).attr({stroke:z}));g=[];for(i=0,j=f.ticks.length;i<j;i++)h=f.ticks[i].v,t=y=0,h<f.min||h>
f.max||"full"==k&&0<c&&(h==f.min||h==f.max)||("x"==f.direction?(r=f.p2c(h),y="full"==k?-a.plotHeight:k,"top"==f.position&&(y=-y)):(q=f.p2c(h),t="full"==k?-a.plotWidth:k,"left"==f.position&&(t=-t)),"x"==f.direction?r=Math.floor(r)+0.5:q=Math.floor(q)+0.5,g.push("M",r," ",q,"L",r+t," ",q+y));g=g.join("");g=a.canvas.path(g).transform(w).attr({stroke:z});a.options.grid.hoverable&&g.data("plotr",a).mousemove(B)}c&&a.canvas.rect(-c/2,-c/2,a.plotWidth+c,a.plotHeight+c).transform(w).attr({stroke:a.options.grid.borderColor,
"stroke-width":c})}function U(a){var b=a.canvas,d=E(a),c,e,f,h,i,j,g,k,r,q,t,y,w,z;for(e=0,f=d.length;e<f;e++)if(c=d[e],c.show&&0!=c.ticks.length){q=c.box;h=c.font;t={"text-anchor":"start","font-family":h.family,"font-style":h.style,"font-weight":h.weight,fill:c.options.color};for(i=0,j=c.ticks.length;i<j;i++)if(h=c.ticks[i],h.label&&!(h.v<c.min||h.v>c.max)){z=0;for(k=0,r=h.lines.length;k<r;k++)g=h.lines[k],"x"==c.direction?(y=a.plotOffset.left+c.p2c(h.v)-g.width/2,w="bottom"==c.position?q.top+q.padding:
q.top+q.height-q.padding-h.height):(w=a.plotOffset.top+c.p2c(h.v)-h.height/2,y="left"==c.position?q.left+q.width-q.padding-g.width:q.left+q.padding),w+=g.height/2+z,z+=g.height,b.text(y,w,g.text).attr(t)}}}function ga(a,b){function d(b,c,d,e,f,g){var h=b.points,b=b.pointsize,i=null,o=null,p,n,m,s,x,v,l=[];for(p=b,n=h.length;p<n;p+=b)if(m=h[p-b],s=h[p-b+1],x=h[p],v=h[p+1],!(null==m||null==x)){if(s<=v&&s<g.min){if(v<g.min)continue;m=(g.min-s)/(v-s)*(x-m)+m;s=g.min}else if(v<=s&&v<g.min){if(s<g.min)continue;
x=(g.min-s)/(v-s)*(x-m)+m;v=g.min}if(s>=v&&s>g.max){if(v>g.max)continue;m=(g.max-s)/(v-s)*(x-m)+m;s=g.max}else if(v>=s&&v>g.max){if(s>g.max)continue;x=(g.max-s)/(v-s)*(x-m)+m;v=g.max}if(m<=x&&m<f.min){if(x<f.min)continue;s=(f.min-m)/(x-m)*(v-s)+s;m=f.min}else if(x<=m&&x<f.min){if(m<f.min)continue;v=(f.min-m)/(x-m)*(v-s)+s;x=f.min}if(m>=x&&m>f.max){if(x>f.max)continue;s=(f.max-m)/(x-m)*(v-s)+s;m=f.max}else if(x>=m&&x>f.max){if(m>f.max)continue;v=(f.max-m)/(x-m)*(v-s)+s;x=f.max}(m!=i||s!=o)&&l.push("M",
f.p2c(m)+d," ",g.p2c(s)+e);i=x;o=v;l.push("L",f.p2c(x)+d," ",g.p2c(v)+e)}a.canvas.path(l).transform(j).attr(c)}function c(b,c,d,e){for(var f=b.points,b=b.pointsize,g=Math.min(Math.max(0,e.min),e.max),h=0,i,o,p,n,m=i,s=p,x=!1,v=1,l=0,u=0,A=[];!(0<b&&h>f.length+b);){h+=b;i=f[h-b];o=f[h-b+v];p=f[h];n=f[h+v];if(x){if(0<b&&null!=i&&null==p){u=h;b=-b;v=2;continue}if(0>b&&h==l+b){a.canvas.path(A.join("")).transform(j).attr(c);x=!1;b=-b;v=1;h=l=u+b;continue}}if(!(null==i||null==p)){if(i<=p&&i<d.min){if(p<
d.min)continue;o=(d.min-i)/(p-i)*(n-o)+o;i=d.min}else if(p<=i&&p<d.min){if(i<d.min)continue;n=(d.min-i)/(p-i)*(n-o)+o;p=d.min}if(i>=p&&i>d.max){if(p>d.max)continue;o=(d.max-i)/(p-i)*(n-o)+o;i=d.max}else if(p>=i&&p>d.max){if(i>d.max)continue;n=(d.max-i)/(p-i)*(n-o)+o;p=d.max}x||(A=["M",d.p2c(i)," ",e.p2c(g)],x=!0);o>=e.max&&n>=e.max?(A.push("L",d.p2c(i)," ",e.p2c(e.max)),A.push("L",d.p2c(p)," ",e.p2c(e.max))):o<=e.min&&n<=e.min?(A.push("L",d.p2c(i)," ",e.p2c(e.min)),A.push("L",d.p2c(p)," ",e.p2c(e.min))):
(m=i,s=p,o<=n&&o<e.min&&n>=e.min?(i=(e.min-o)/(n-o)*(p-i)+i,o=e.min):n<=o&&n<e.min&&o>=e.min&&(p=(e.min-o)/(n-o)*(p-i)+i,n=e.min),o>=n&&o>e.max&&n<=e.max?(i=(e.max-o)/(n-o)*(p-i)+i,o=e.max):n>=o&&n>e.max&&o<=e.max&&(p=(e.max-o)/(n-o)*(p-i)+i,n=e.max),i!=m&&A.push("L",d.p2c(m)," ",e.p2c(o)),A.push("L",d.p2c(i)," ",e.p2c(o)),A.push("L",d.p2c(p)," ",e.p2c(n)),p!=s&&(A.push("L",d.p2c(p)," ",e.p2c(n)),A.push("L",d.p2c(s)," ",e.p2c(n))))}}}var e=a.series[b],f=e.lines.lineWidth,h=e.shadowSize,i,j="t"+a.plotOffset.left+
","+a.plotOffset.top,g={"stroke-linejoin":"round","stroke-width":1,stroke:"#000"};0<f&&0<h&&(g["stroke-width"]=h,g.stroke="rgba(0,0,0,0.1)",i=Math.PI/18,d(e.datapoints,g,Math.sin(i)*(f/2+h/2),Math.cos(i)*(f/2+h/2),e.xaxis,e.yaxis),g["stroke-width"]=h/2,d(e.datapoints,g,Math.sin(i)*(f/2+h/4),Math.cos(i)*(f/2+h/4),e.xaxis,e.yaxis));g["stroke-width"]=f;g.stroke=e.color;if(h=I(e.lines,e.color))g.fill=h,c(e.datapoints,g,e.xaxis,e.yaxis);0<f&&d(e.datapoints,g,0,0,e.xaxis,e.yaxis)}function ha(a,b){function d(c,
e,d,f,g,h,i,j,m,s){var l,v,u,C;j?(C=v=u=!0,l=!1,j=d,d=e+f,g=e+g,c<j&&(e=c,c=j,j=e,l=!0,v=!1)):(l=v=u=!0,C=!1,j=c+f,c+=g,g=d,d=e,d<g&&(e=d,d=g,g=e,C=!0,u=!1));if(!(c<h.min||j>h.max||d<i.min||g>i.max)){j<h.min&&(j=h.min,l=!1);c>h.max&&(c=h.max,v=!1);g<i.min&&(g=i.min,C=!1);d>i.max&&(d=i.max,u=!1);j=h.p2c(j);g=i.p2c(g);c=h.p2c(c);d=i.p2c(d);a.canvas.setStart();r&&(h=["M",j," ",g,"L",j," ",d,"L",c," ",d,"L",c," ",g],a.canvas.path(h.join("")).transform(k).attr({fill:r}));if(0<m&&(l||v||u||C))h=["M",j,
" ",g,l?"L":"M",j," ",d,u?"L":"M",c," ",d,v?"L":"M",c," ",g,C?"L":"M",j," ",g],a.canvas.path(h.join("")).transform(k).attr(q);h=a.canvas.setFinish();h.hover=!1;if(a.options.grid.hoverable)return m=a.canvas.rect(j-(l?m/2:0),d-(u?m/2:0),c-j+(v||l?m:0),g-d+(C||u?m:0)),m.transform(k).attr({stroke:null,fill:"rgba(255, 255, 255, 0)"}).data("plotr",a).data("item",{seriesIndex:b,dataIndex:s}).data("set",h).mousemove(function(a,b,c){B.call(this,"plothover",b,c)}).click(function(a,b,c){B.call(this,"plotclick",
b,c)}),a.options.grid.autoHighlight&&m.hover(M,N),q&&m.data("stroke",q.stroke),r&&m.data("fill",r),m}}var c=a.series[b],e=c.datapoints,f=e.points,e=e.pointsize,h,i,j,g,k="t"+a.plotOffset.left+","+a.plotOffset.top,r=c.bars.fill?I(c.bars,c.color):null,q={"stroke-width":c.bars.lineWidth,stroke:c.color};h="left"==c.bars.align?0:-c.bars.barWidth/2;i=h+c.bars.barWidth;c.el_=[];for(j=0,g=f.length;j<g;j+=e)null!=f[j]&&c.el_.push(d(f[j],f[j+1],f[j+2],h,i,c.xaxis,c.yaxis,c.bars.horizontal,c.bars.lineWidth,
j/e))}function ia(a,b){function d(c,d,f,g,h,i,j){if(!(null==c||null==d||c<g.min||c>g.max||d<h.min||d>h.max))if(c=g.p2c(c),d=h.p2c(d),e.setStart(),"circle"==i?(l&&(e.path(L(c,d+l+l/2,0,180,f)).attr(w),e.path(L(c,d+l/2,0,180,f)).attr(w)),f=e.circle(c,d,f).attr(u)):(l&&(e.path(i(c,d+l+l/2,f,!0)).attr(w),e.path(i(c,d+l/2,f,!0)).attr(w)),f=e.path(i(c,d,f,!1)).attr(u)),e.setFinish().transform(z),a.options.grid.hoverable)return c="circle"==i?e.circle(c,d,k):e.path(i(c,d,k,!1)),c.transform(z).attr({stroke:null,
fill:"rgba(255, 255, 255, 0)"}).data("plotr",a).data("item",{seriesIndex:b,dataIndex:j}).data("set",f).mousemove(function(a,b,c){B.call(this,"plothover",b,c)}).click(function(a,b,c){B.call(this,"plotclick",b,c)}),a.options.grid.autoHighlight&&c.hover(O,P),c}var c=a.series[b],e=a.canvas,f=c.datapoints.points,h=c.datapoints.pointsize,i=c.points.lineWidth,j=c.shadowSize,g=c.points.radius,k=2*(g+i/2),r=c.points.symbol,q,l=i&&j&&j/2,u={"stroke-width":i,stroke:c.color,fill:I(c.points,c.color)},w={"stroke-width":l,
stroke:"rgba(0,0,0,0.1)"},z="t"+a.plotOffset.left+","+a.plotOffset.top;c.el_=[];for(i=0,j=f.length,q=0;i<j;i+=h,q++)c.el_.push(d(f[i],f[i+1],g,c.xaxis,c.yaxis,r,q))}function J(a,b,d,c){this.placeholder=null;this.series=[];this.options={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,font:null,
color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,
fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}};this.hooks={processOptions:[],processRawData:[],
processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]};this.plotOffset={left:0,right:0,top:0,bottom:0};this.xAxes=[];this.yAxes=[];this.plotHeight=this.plotWidth=this.canvasHeight=this.canvasWidth=0;this.canvas=null;this.initPlugins(c);this.parseOptions(d);this.setupCanvas(a);this.setData(b);this.setupGrid();this.draw()}var ja=Raphael;u.prototype={constructor:u,scale:function(a,b){var d,c;for(d=0,c=a.length;d<c;d++)this[a.charAt(d)]*=b;return this.normalize()},normalize:function(){function a(a,
d,c){return d<a?a:d>c?c:d}this.r=a(0,parseInt(this.r,10),255);this.g=a(0,parseInt(this.g,10),255);this.b=a(0,parseInt(this.b,10),255);this.a=a(0,this.a,1);return this},toString:function(){return 1<=this.a?"rgb("+[this.r,this.g,this.b].join()+")":"rgba("+[this.r,this.g,this.b,this.a].join()+")"}};u.LookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,
100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,
128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};u.parse=function(a){var b,d=u;if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return d(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10));if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return d(parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),
parseFloat(b[4]));if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return d(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]));if(b=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(a))return d(2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),parseFloat(b[4]));if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return d(parseInt(b[1],
16),parseInt(b[2],16),parseInt(b[3],16));if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return d(parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16));a=a.replace(/^\s+/,"").replace(/\s+$/,"").toLowerCase();if("transparent"==a)return d(255,255,255,0);b=u.LookupColors[a];return d(b[0],b[1],b[2])};u.extract=function(a,b){var d;do{d=a.css(b).toLowerCase();if(""!=d&&"transparent"!=d)break;a=a.parent()}while(!jQuery.nodeName(a.get(0),"body"));"rgba(0, 0, 0, 0)"==d&&(d="transparent");
return u.parse(d)};J.prototype={constructor:J,setupGrid:function(){var a=this.options,b=this.plotOffset,d=this.placeholder,c=E(this),e=a.grid.show,f,h;for(f in b)b.hasOwnProperty(f)&&(b[f]=e?a.grid.borderWidth:0);for(a=0,f=c.length;a<f;a++)h=c[a],h.show=h.options.show,null==h.show&&(h.show=h.used),h.reserveSpace=h.show||h.options.reserveSpace,W(h);if(e){d={style:d.css("font-style"),size:Math.round(0.8*(+d.css("font-size").replace("px","")||13)),variant:d.css("font-variant"),weight:d.css("font-weight"),
family:d.css("font-family")};e=l.grep(c,function(a){return a.reserveSpace});for(a=0,f=c.length;a<f;a++)h=c[a],X(this,h),Y(h),Z(h,h.ticks),h.font=l.extend({},d,h.options.font),$(this,h);for(a=e.length-1;0<=a;a--)aa(this,e[a]);ca(this);for(a=0,f=e.length;a<f;a++)ba(this,e[a])}this.plotWidth=this.canvasWidth-b.left-b.right;this.plotHeight=this.canvasHeight-b.bottom-b.top;for(a=0,f=c.length;a<f;a++)da(this,c[a]);ea(this)},draw:function(){var a=this.series,b=this.options.grid,d=this.canvas,c,e;d.clear();
fa(this);b.show&&!b.aboveData&&(T(this),U(this));for(c=0,e=a.length;c<e;++c){F(this,this.hooks.drawSeries,[d,a[c],c]);var f=c,h=this.series[f];h.lines.show&&ga(this,f);h.bars.show&&ha(this,f);h.points.show&&ia(this,f)}F(this,this.hooks.draw,[d]);b.show&&b.aboveData&&(T(this),U(this))},initPlugins:function(a){var b,d,c;for(b=0,d=a.length;b<d;++b)c=a[b],c.init(this),c.options&&l.extend(!0,this.options,c.options)},parseOptions:function(a){var b,d,c=this.options,e=this.hooks,f=this.xAxes,h=this.yAxes;
l.extend(!0,c,a);c.xaxis.color=c.xaxis.color||c.grid.color;c.yaxis.color=c.yaxis.color||c.grid.color;c.xaxis.tickColor=c.xaxis.tickColor||c.grid.tickColor;c.yaxis.tickColor=c.yaxis.tickColor||c.grid.tickColor;c.grid.borderColor=c.grid.borderColor||c.grid.color;c.grid.tickColor=c.grid.tickColor||u.parse(c.grid.color).scale("a",0.22).toString();for(a=0,b=Math.max(1,c.xaxes.length);a<b;++a)c.xaxes[a]=l.extend(!0,{},c.xaxis,c.xaxes[a]);for(a=0,b=Math.max(1,c.yaxes.length);a<b;++a)c.yaxes[a]=l.extend(!0,
{},c.yaxis,c.yaxes[a]);c.xaxis.noTicks&&null==c.xaxis.ticks&&(c.xaxis.ticks=c.xaxis.noTicks);c.yaxis.noTicks&&null==c.yaxis.ticks&&(c.yaxis.ticks=c.yaxis.noTicks);c.x2axis&&(c.xaxes[1]=l.extend(!0,{},c.xaxis,c.x2axis),c.xaxes[1].position="top");c.y2axis&&(c.yaxes[1]=l.extend(!0,{},c.yaxis,c.y2axis),c.yaxes[1].position="right");c.grid.coloredAreas&&(c.grid.markings=c.grid.coloredAreas);c.grid.coloredAreasColor&&(c.grid.markingsColor=c.grid.coloredAreasColor);c.lines&&l.extend(!0,c.series.lines,c.lines);
c.points&&l.extend(!0,c.series.points,c.points);c.bars&&l.extend(!0,c.series.bars,c.bars);null!=c.shadowSize&&(c.series.shadowSize=c.shadowSize);for(a=0,b=c.xaxes.length;a<b;++a)G(f,a+1,c.xaxes,"x").options=c.xaxes[a];for(a=0,b=c.yaxes.length;a<b;++a)G(h,a+1,c.yaxes,"y").options=c.yaxes[a];for(d in e)e.hasOwnProperty(d)&&c.hooks[d]&&c.hooks[d].length&&(e[d]=e[d].concat(c.hooks[d]));F(this,e.processOptions,[c])},setupCanvas:function(a){this.placeholder=a=l(a);this.canvasWidth=a.width();this.canvasHeight=
a.height();this.canvas=ja(a.get(0),this.canvasWidth,this.canvasHeight)},setData:function(a){var b=[],d,c,e;for(c=0,e=a.length;c<e;++c)d=l.extend(!0,{},this.options.series),null!=a[c].data?(d.data=a[c].data,delete a[c].data,l.extend(!0,d,a[c]),a[c].data=d.data):d.data=a[c],b.push(d);a=this.series=b;b=this.options;d=this.xAxes;c=this.yAxes;var f,h,i;i=a.length;var j=[],g=[],k=[],r=0,q;for(e=0,f=a.length;e<f;++e)h=a[e].color,null!=h&&(i--,"number"===typeof h?g.push(h):j.push(u.parse(a[e].color)));for(e=
0,f=g.length;e<f;++e)i=Math.max(i,g[e]+1);e=0;for(f=b.colors.length;k.length<i;)h=f===e?u(100,100,100):u.parse(b.colors[e]),j=1===r%2?-1:1,h.scale("rgb",1+0.2*j*Math.ceil(r/2)),k.push(h),++e,e>=f&&(e=0,++r);for(e=0,r=0,f=a.length;e<f;++e){i=a[e];null==i.color?(i.color=k[r].toString(),++r):"number"===typeof i.color&&(i.color=k[i.color].toString());if(null==i.lines.show){h=!0;for(q in i)if(i.hasOwnProperty(q)&&i[q]&&i[q].show){h=!1;break}h&&(i.lines.show=!0)}i.xaxis=G(d,Q(i,"x"),b.xaxes,"x");i.yaxis=
G(c,Q(i,"y"),b.yaxes,"y")}V(this)},getAxes:function(){var a={},b=this.xAxes,d=this.yAxes,c,e,f;for(e=0,f=b.length;e<f;e++)(c=b[e])&&(a[c.direction+(1!=c.n?c.n:"")+"axis"]=c);for(e=0,f=d.length;e<f;e++)(c=d[e])&&(a[c.direction+(1!=c.n?c.n:"")+"axis"]=c);return a},canvasToAxisCoords:function(a){var b={},d,c,e;for(d=0,c=this.xAxes.length;d<c;d++)(e=this.xAxes[d])&&e.used&&(b["x"+e.n]=e.c2p(a.left));for(d=0,c=this.yAxes.length;d<c;++d)(e=this.yAxes[d])&&e.used&&(b["y"+e.n]=e.c2p(a.top));b.x1!==K&&(b.x=
b.x1);b.y1!==K&&(b.y=b.y1);return b},axisToCanvasCoords:function(a){var b={},d,c,e,f;for(c=0,e=this.xAxes.length;c<e;c++)if((f=this.xAxes[c])&&f.used)if(d="x"+f.n,null==a[d]&&1==f.n&&(d="x"),null!=a[d]){b.left=f.p2c(a[d]);break}for(c=0,e=this.yAxes.length;c<e;++c)if((f=this.yAxes[c])&&f.used)if(d="y"+f.n,null==a[d]&&1==f.n&&(d="y"),null!=a[d]){b.top=f.p2c(a[d]);break}return b},getPlaceholder:function(){return this.placeholder},getCanvas:function(){return this.canvas},getPlotOffset:function(){return this.plotOffset},
getData:function(){return this.series},getXAxes:function(){return this.xAxes},getYAxes:function(){return this.yAxes},getOptions:function(){return this.options},highlight:function(a,b,d){if(a.el_){"number"===typeof a&&(a=this.series[a]);if("number"==typeof b)b=a.el_[b];else throw"not supported";!d&&b.data("highlight",!0);a.bars.show&&M.apply(b);a.points.show&&O.apply(b)}},unhighlight:function(a,b){var d;if(a.el_){"number"===typeof a&&(a=this.series[a]);if("number"==typeof b)d=a.el_[b];else throw"not supported";
d.removeData("highlight");a.bars.show&&N.apply(d);a.points.show&&P.apply(d)}},highlighted:function(a,b){var d;if(!a.el_)return!1;"number"===typeof a&&(a=this.series[a]);if("number"==typeof b)d=a.el_[b];else throw"not supported";return d&&!!d.data("highlight")}};l.plotr=function(a,b,d){return new J(a,b,d,l.plotr.plugins)};l.plotr.version="0.1";l.plotr.plugins=[];l.plotr.formatDate=function(a,b,d){var c=[],e=!1,f=!1,h=a.getUTCHours(),i=12>h,j,g,k,l=function(a){a=""+a;return 1===a.length?"0"+a:a},d=
d||"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");-1!==b.search(/%p|%P/)&&(12<h?h-=12:0===h&&(h=12));for(j=0,k=b.length;j<k;++j)if(g=b.charAt(j),e){switch(g){case "h":g=""+h;break;case "H":g=l(h);break;case "M":g=l(a.getUTCMinutes());break;case "S":g=l(a.getUTCSeconds());break;case "d":g=""+a.getUTCDate();break;case "m":g=""+(a.getUTCMonth()+1);break;case "y":g=""+a.getUTCFullYear();break;case "b":g=""+d[a.getUTCMonth()];break;case "p":g=i?"am":"pm";break;case "P":g=i?"AM":"PM";break;
case "0":g="",f=!0}g&&f&&(g=l(g),f=!1);c.push(g);f||(e=!1)}else"%"===g?e=!0:c.push(g);return c.join("")}})(jQuery);
